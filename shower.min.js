/**
 * Shower HTML presentation engine: github.com/shower/shower
 * @copyright 2010â€“2013 Vadim Makeev, pepelsbey.net
 * @license MIT license: github.com/shower/shower/wiki/MIT-License
 */
 window.shower=function(e,t,n){var r={},i=e.location,s=t.body,o=t.querySelectorAll(".slide"),u=t.querySelector("div.progress div"),a=[],f,l=!!e.history&&!!history.pushState,c=o.length,h;r._getData=function(e,t){return e.dataset?e.dataset[t]:e.getAttribute("data-"+t)};for(h=0;h<c;h++)o[h].id||(o[h].id=h+1),a.push({id:o[h].id,hasInnerNavigation:null!==o[h].querySelector(".next"),hasTiming:r._getData(o[h],"timing")&&r._getData(o[h],"timing").indexOf(":")!==-1});return r._getTransform=function(){var t=Math.max(s.clientWidth/e.innerWidth,s.clientHeight/e.innerHeight);return"scale("+1/t+")"},r._applyTransform=function(e){return s.style.WebkitTransform=e,s.style.MozTransform=e,s.style.msTransform=e,s.style.OTransform=e,s.style.transform=e,!0},r._isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},r._normalizeSlideNumber=function(e){if(!r._isNumber(e))throw new Error("Gimme slide number as Number, baby!");return e<0&&(e=0),e>=a.length&&(e=a.length-1),e},r._getSlideIdByEl=function(e){while("BODY"!==e.nodeName&&"HTML"!==e.nodeName){if(e.classList.contains("slide"))return e.id;e=e.parentNode}return""},r._checkInteractiveElement=function(e){return"A"===e.target.nodeName},r.getSlideNumber=function(e){var t=a.length-1,n;e===""&&(n=0);for(;t>=0;--t)if(e===a[t].id){n=t;break}return n},r.go=function(e,t){if(!r._isNumber(e))throw new Error("Gimme slide number as Number, baby!");return i.hash=r.getSlideHash(e),r.isSlideMode()&&(r.showPresenterNotes(e),r.updateProgress(e),r.updateCurrentAndPassedSlides(e),r.runInnerNavigation(e)),typeof t=="function"&&t(),e},r.next=function(e){var t=r.getCurrentSlideNumber(),n=!1;return(-1===t||!a[t].hasInnerNavigation||!r.increaseInnerNavigation(t))&&t+2<=a.length&&(r.go(t+1),n=t+2),r.isSlideMode()&&r.runInnerNavigation(t+1),typeof e=="function"&&e(),n},r.previous=function(e){var t=r.getCurrentSlideNumber(),n=!1;return t>0&&(n=t,r.go(t-1),typeof e=="function"&&e()),n},r.first=function(e){return typeof e=="function"&&e(),r.go(0)},r.last=function(e){return typeof e=="function"&&e(),r.go(a.length-1)},r.enterSlideMode=function(e){var t=r.getCurrentSlideNumber();return s.classList.remove("list"),s.classList.add("full"),r.isListMode()&&l&&history.pushState(null,null,i.pathname+"?full"+r.getSlideHash(t)),r._applyTransform(r._getTransform()),typeof e=="function"&&e(),!0},r.enterListMode=function(e){s.classList.remove("full"),s.classList.add("list"),r.clearPresenterNotes();if(r.isListMode())return!1;var t=r.getCurrentSlideNumber();return clearTimeout(f),r.isSlideMode()&&l&&history.pushState(null,null,i.pathname+r.getSlideHash(t)),r.scrollToSlide(t),r._applyTransform("none"),typeof e=="function"&&e(),!0},r.toggleMode=function(e){return r.isListMode()?r.enterSlideMode():r.enterListMode(),typeof e=="function"&&e(),!0},r.getCurrentSlideNumber=function(){var e=a.length-1,t=i.hash.substr(1);for(;e>=0;--e)if(t===a[e].id)return e;return-1},r.scrollToSlide=function(n){var i,s=!1;if(!r._isNumber(n))throw new Error("Gimme slide number as Number, baby!");if(r.isSlideMode())throw new Error("You can't scroll to because you in slide mode. Please, switch to list mode.");if(-1===n)return s;if(!a[n])throw new Error("There is no slide with number "+n);return i=t.getElementById(a[n].id),e.scrollTo(0,i.offsetTop),s=!0,s},r.isListMode=function(){return l?!/^full.*/.test(i.search.substr(1)):s.classList.contains("list")},r.isSlideMode=function(){return l?/^full.*/.test(i.search.substr(1)):s.classList.contains("full")},r.updateProgress=function(e){if(null===u)return!1;if(!r._isNumber(e))throw new Error("Gimme slide number as Number, baby!");return u.style.width=(100/(a.length-1)*r._normalizeSlideNumber(e)).toFixed(2)+"%",!0},r.updateCurrentAndPassedSlides=function(e){var n,i,s=a.length;e=r._normalizeSlideNumber(e);if(!r._isNumber(e))throw new Error("Gimme slide number as Number, baby!");for(n=0;n<s;++n)i=t.getElementById(a[n].id),n<e?(i.classList.remove("active"),i.classList.add("visited")):n>e?(i.classList.remove("visited"),i.classList.remove("active")):(i.classList.remove("visited"),i.classList.add("active"));return!0},r.clearPresenterNotes=function(){e.console&&e.console.clear&&console.clear()},r.showPresenterNotes=function(n){r.clearPresenterNotes();if(e.console){n=r._normalizeSlideNumber(n);var i=a[n].id,s=a[n+1]?a[n+1].id:null,o=t.getElementById(i).querySelector("footer");o&&o.innerHTML&&console.info(o.innerHTML.replace(/\n\s+/g,"\n"));if(s){var u=t.getElementById(s).querySelector("h2");u&&(u=u.innerHTML.replace(/^\s+|<[^>]+>/g,""),console.info("NEXT: "+u))}}},r.getSlideHash=function(e){if(!r._isNumber(e))throw new Error("Gimme slide number as Number, baby!");return e=r._normalizeSlideNumber(e),"#"+a[e].id},r.runInnerNavigation=function(e){if(!r._isNumber(e))throw new Error("Gimme slide number as Number, baby!");e=r._normalizeSlideNumber(e),clearTimeout(f);if(a[e].hasTiming){var n=r._getData(t.getElementById(a[e].id),"timing").split(":");n=parseInt(n[0],10)*60*1e3+parseInt(n[1],10)*1e3,f=setTimeout(function(){r.next()},n)}return!0},r.increaseInnerNavigation=function(e){var n,i;if(!r._isNumber(e))throw new Error("Gimme slide number as Number, baby!");if(a[e].hasInnerNavigation){n=t.getElementById(a[e].id).querySelectorAll(".next:not(.active)");if(0!==n.length)return i=n[0],i.classList.add("active"),!0}return!1},e.addEventListener("DOMContentLoaded",function(){if(s.classList.contains("full")||r.isSlideMode())r.go(r.getCurrentSlideNumber()),r.enterSlideMode()},!1),e.addEventListener("popstate",function(){r.isListMode()?r.enterListMode():r.enterSlideMode()},!1),e.addEventListener("resize",function(){r.isSlideMode()&&r._applyTransform(r._getTransform())},!1),t.addEventListener("keydown",function(e){if(e.altKey||e.ctrlKey||e.metaKey)return;var t=r.getCurrentSlideNumber(),n=!0;switch(e.which){case 116:e.preventDefault();if(r.isListMode()){var i=e.shiftKey?t:0;r.go(i),r.enterSlideMode(),r.showPresenterNotes(i)}else r.enterListMode();break;case 13:r.isListMode()&&-1!==t&&(e.preventDefault(),r.enterSlideMode());break;case 27:r.isSlideMode()&&(e.preventDefault(),r.enterListMode());break;case 33:case 38:case 37:case 72:case 75:e.preventDefault(),r.previous();break;case 34:case 40:case 39:case 76:case 74:e.preventDefault(),r.next();break;case 36:e.preventDefault(),r.first();break;case 35:e.preventDefault(),r.last();break;case 9:case 32:e.preventDefault(),r[e.shiftKey?"previous":"next"]();break;default:}},!1),t.addEventListener("click",function(e){e.preventDefault();var t=r.getSlideNumber(r._getSlideIdByEl(e.target));r.isListMode()&&r._getSlideIdByEl(e.target)&&(r.go(t),r.enterSlideMode(),r.showPresenterNotes(t))},!1),t.addEventListener("touchstart",function(t){if(r._getSlideIdByEl(t.target)){if(r.isSlideMode()&&!r._checkInteractiveElement(t)){var n=t.touches[0].pageX;n>e.innerWidth/2?r.next():r.previous()}r.isListMode()&&(r.go(r.getSlideNumber(r._getSlideIdByEl(t.target))),r.enterSlideMode())}},!1),t.addEventListener("touchmove",function(e){r.isSlideMode()&&e.preventDefault()},!1),r}(this,this.document);